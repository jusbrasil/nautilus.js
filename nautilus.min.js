!function(a,b){a.nautilus=b}(this,function(){function a(b,c){function d(){window.clearTimeout(p),i.incr(c)}function e(){"complete"===m.readyState&&d()}function f(){console.warn("[nautilus] occurred an error while fetching",o),n&&a(h.merge(b,{origins:g.slice(1)}),c),k.length>1&&a(h.merge(b,{path:k.slice(1)}),c)}var g=b.origins,j=h.isArray(b.path),k=j?b.path:[],l=j?b.path[0]:b.path,m=document.createElement("script"),n=g.length>0&&!h.isAbsoluteURL(l),o=n?g[0]+l:l;m.type="text/javascript",m.onload=d,m.async=!0,m.onreadystatechange=e,m.onerror=f,m.src=o,document.head.appendChild(m);var p=window.setTimeout(function(){document.head.removeChild(m),m.onerror=null,f()},b.timeout)}function b(a){c.apply(this,a)}function c(){var c=Array.prototype.slice.call(arguments),d=c[0];"string"==typeof d&&(d=[d]),h.isArray(c[1])&&(c[1]=b.bind(this,c.slice(1,c.length)));for(var j=i.push(d.length,c[1]),k=0;k<d.length;k++){var l=d[k];a({origins:f,path:e[l]||l,timeout:g},j)}}var d=Object.prototype.hasOwnProperty,e={},f=[],g=Math.pow(2,31)-1,h={"extends":function(a,b,c){for(var e in b)d.call(b,e)&&("constructor"===e&&a===global||(void 0===b[e]?delete a[e]:c&&"undefined"!=typeof a[e]||(a[e]=b[e])));return a},merge:function(a,b){var c={};for(var d in a)c[d]=a[d];for(var d in b)c[d]=b[d];return c},isAbsoluteURL:function(a){return/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)}},i={queues:[],push:function(a,b){return this.queues.push({paths:a,loaded:0,exec:b}),this.queues.length-1},incr:function(a){var b=this.queues[a];b.loaded+=1,b.paths<=b.loaded&&"function"==typeof b.exec&&b.exec()},reset:function(){this.queues=[]}};return this.config=function(a){h.isArray(a.origins)&&(f=f.concat(a.origins)),"object"==typeof a.paths&&(e=h.merge(e,a.paths)),"number"==typeof a.timeout&&(g=a.timeout)},this.getConfig=function(){return{origins:f,paths:e,timeout:g}},this.resetConfig=function(){f=[],e={},g=Math.pow(2,31)-1,i.reset()},h["extends"](c.bind(this),this)}());