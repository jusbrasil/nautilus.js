!function(t,e){t.nautilus=e}(this,function t(){"use strict";function e(t,n){function i(){c.incr(n)}var r=t.origins,o=a.isArray(t.path),s=o?t.path:[],u=o?t.path[0]:t.path,h=document.createElement("script"),l=r.length>0&&!a.isAbsoluteURL(u),p=l?r[0]+u:u;h.type="text/javascript",h.onload=i,h.async=!0,h.onreadystatechange=function(){"complete"===h.readyState&&i()},h.onerror=function(){console.warn("[nautilus] occurred an error while fetching",p),l&&e({origins:r.slice(1),path:u},n),s.length>1&&e({origins:r,path:s.slice(1)},n)},h.src=p,document.head.appendChild(h)}function n(t){i.apply(this,t)}function i(){var t=Array.prototype.slice.call(arguments),i=t[0];"string"==typeof i&&(i=[i]),a.isArray(t[1])&&(t[1]=n.bind(this,t.slice(1,t.length)));for(var r=c.push(i.length,t[1]),u=0;u<i.length;u++){var h=i[u];e({origins:s,path:o[h]||h},r)}}if(!(this instanceof t))return new t;var r=Object.prototype.hasOwnProperty,o={},s=[],a={extends:function(t,e,n){for(var i in e)r.call(e,i)&&("constructor"===i&&t===global||(void 0===e[i]?delete t[i]:n&&void 0!==t[i]||(t[i]=e[i])));return t},merge:function(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n},isAbsoluteURL:function(t){return/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},c={queues:[],push:function(t,e){return this.queues.push({paths:t,loaded:0,exec:e}),this.queues.length-1},incr:function(t){var e=this.queues[t];e.loaded+=1,e.paths<=e.loaded&&"function"==typeof e.exec&&e.exec()},reset:function(){this.queues=[]}};return this.config=function(t){a.isArray(t.origins)&&(s=s.concat(t.origins)),"object"==typeof t.paths&&(o=a.merge(o,t.paths))},this.getConfig=function(){return{origins:s,paths:o}},this.resetConfig=function(){s=[],o={},c.reset()},a.extends(i.bind(this),this)}());